% ======================================================================================
% lista chorób skóry i ich opisy, choroba/2
% ======================================================================================

choroba('gronkowiec złocisty','odpowiedzialna jest za bardzo wiele chorób w ludzkim organizmie. Bakterie te są najczęstszymi patogenami skóry, a ich leczenie jest bardzo trudne
			oraz długotrwałe. Gronkowiec jest trudny do wyleczenia ze względu na swoją antybiotykoodporność oraz odporność na wysoką temperaturę.
			Najczęstsze objawy zakażenia na skórze to powstanie: czyraków, liszajów, ropni, zapalenia sutka, zapalenia w obrębie narządów płciowych kobiet.
			może prowadzić do wymiotów, biegunki, spadku ciśnienia krwi, wstrząsu, a nawet śmierci. Nosicielstwo występuje szczególnie często pośród personelu
			szpitalnego, co ma szczególne znaczenie dla szerzenia się zakażeń wewnątrzszpitalnych.').

choroba('liszajec zakaźny', 'jest bakteryjną chorobą skóry wywoływaną przez zakażenie paciorkowcami lub gronkowcami. Cechuje się wysoką zakaźnością dla otoczenia.
			Charakterystycznym objawem liszajca zakaźnego jest obecność pęcherzyków oraz żółtawych, miodowych strupów.').

choroba('figówka','infekcja mieszków włosowych wywołana przez gronkowca skóry (gronkowca złocistego).
			Ta choroba skóry występuje częściej u mężczyzn, a do jej przyczyn można zaliczyć m.in. złe nawyki higieniczne (np. przy goleniu) czy obniżoną odporność.
			Zapalenie mieszków włosowych objawia się m.in.: ropnymi krostkami, pęcherzami i grudkami na skórze.').

choroba('czyrak','jest ropnym zapaleniem mieszka włosowego, wywołanym przez gronkowca złocistego. Zmiany czyraczne mogą być pojedyncze lub gromadne.
			Zwykle występują na karku, twarzy lub pośladkach.').

choroba('ropnie','to nagromadzenie treści ropnej w tkankach miękkich, powstałe najczęściej na skutek uszkodzenia bądź przerwania powłok skórnych.
			Może mieć charakter miejscowy lub ogniskowy. W przypadku zmian znajdujących się w głębiej położonych tkankach,
			w których dużo później pojawiają się niepokojące objawy, konieczne jest wykonanie badania USG.').

choroba('niesztowice','Niesztowica, inaczej krostkowe zapalenie skóry, to przewlekła choroba skóry, która u ludzi jest wywołana zakażeniem bakteryjnym.
			Głównymi winowajcami zakażenia są przeważnie – paciorkowiec ropotwórczy i gronkowiec złocisty.').

choroba('róża',' Zachorować na różę mogą zarówno dzieci, jak i dorośli. Zwykle pojawia się na kończynach dolnych, twarzy i kończynach górnych, ale może
			rozwinąć się też w innych miejscach. Róża ma niestety tendencję do nawrotów, a jeśli jest nieleczona, jej konsekwencje mogą być poważne. Ostry stan zapalny skóry
			właściwej i powierzchownych naczyń limfatycznych, wywołany zakażeniem paciorkowcami beta-hemolitycznymi.').

choroba('piodermia','to ropne zapalenie, które objawia się uszkodzeniem mieszków włosowych, gruczołów potowych i łojowych skóry. Piodermia może mieć charakter
			ostry lub przewlekły. objawia się przekrwieniem (zaczerwienieniem), swędzeniem i pieczeniem skóry, a także bolesną wysypką krostkową na twarzy, 
			tułowiu, kończynach górnych i dolnych.').

choroba('różyca','Różyca jest ograniczoną do miejsca infekcji lub uogólnioną narządową chorobą zakaźną spowodowaną przez patogenne szczepy bakterii – włoskowca różycy.
			Bakteria ta jest odporna na warunki środowiskowe i występuje na całym świecie. Zachorowania dotyczą ludzi i zwierząt: świń, bydła, owiec, ptactwa domowego, ryb.
			Zachorowania na różycę wśród ludzi są najczęściej spowodowane zawodowym narażeniem na kontakt z zakażonym zwierzęciem lub produktami pochodzenia zwierzęcego.').

choroba('łupież rumieniowy','jest chorobą skóry, która objawi się występowaniem czerwono-brązowych zmian. Łupież rumieniowy pojawiają się między fałdami skóry w miejscach,
			gdzie pojawia się zwiększona potliwość, częstym przypadkiem jest łupież rumieniowy pod pachami, w pachwinach, czy między palcami.').

choroba('promienica','jest podostrą, niekiedy przewlekłą infekcją bakteryjną wywoływaną przez bakterie beztlenowe - promieniowce (zwykle jednocześnie 5-10 gatunków bakterii).
			Aby doszło do zakażenia tymi bakteriami, wcześniej musi zostać przerwana ciągłość błon śluzowych oraz obecne muszą być zmiany martwicze.
			Tylko w takich warunkach promieniowce ujawniają swoją zjadliwość. Zakażenie przenosi się na zdrowe tkanki przez ciągłość, wywołując ropny proces zapalny
			z powstawaniem licznych ropni i przetok, z których wydzielane są żółte ziarnistości - ze względu na kolor nazywane „siarkowymi”. Najczęściej choroba
			przebiega pod postacią promienicy szyjno-twarzowej, piersiowej i brzusznej. U kobiet może się rozwinąć promienica miednicy mniejszej. Na każdym etapie
			zakażenia może nastąpić rozsiew bakterii drogą krwi. Nie ma ryzyka przeniesienia zakażenia z człowieka na człowieka.').

choroba('borelioza','zakażenie boreliozą możliwe jest tylko w wyniku pokłucia przez zakażonego kleszcza. Nie możesz zarazić się boreliozą od osoby, która na nią choruje.
			W związku z tym, iż Borrelia przebywa w jelicie środkowym kleszcza, zanim bakterie zdążą się przedostać z kleszcza do żywiciela poprzez gruczoły ślinowe,
			upływa trochę czasu.Nim bakteria dotrze do tkanek gospodarza, może minąć wiele godzin od rozpoczęcia żerowania przez kleszcza. Z tego powodu im szybciej
			kleszcz zostaje usunięty, tym mniejsze jest ryzyko zakażenia boreliozą.').

choroba('gruźlica skóry','choroba zakaźna, która objawia się w postaci przewlekłych zmian skórnych wywołanych przez bakterie Mycobacterium tuberculosis. Choroba może przybierać
			różne formy kliniczne, w tym lupus vulgaris, gruźlicze owrzodzenia oraz gruźlicę prosówkową skóry.').

choroba('rzeżączka','To choroba przenoszoną drogą płciową. Objawy rzeżączki u kobiet i mężczyzn są różne. U mężczyzn rzeżączka powoduje głównie rzeżączkowe zapalenie
			cewki moczowej, a u kobiet rzeżączkowe zapalenie szyjki macicy.').

choroba('kiła','To choroba wywołana przez bakterię, krętek blady. Zakażenia krętkiem bladym przenoszą wyłącznie chorzy ludzie. Do zakażenia dochodzi wskutek wnikania
			krętków bladych przez uszkodzoną skórę, błony śluzowe, łożysko (z matki na dziecko) lub poprzez krew. Najczęstszą drogą zakażenia jest kontakt seksualny.
			Droga pozapłciowa (np. poprzez przypadkowe wtarcie zakażonej wydzieliny) jest możliwa, ale ze względu na dużą wrażliwość bakterii na czynniki zewnętrzne dużo rzadsza.
			Zakażenie drogą krwiopochodną poprzez przetoczenie zakażonej krwi jest możliwe, ale jest niezwykle rzadkie.').

% ======================================================================================
% lista chorób skóry i opis jak można je wyleczyć i ile czasu zajmuje, choroba_leczenie/2
% ======================================================================================

choroba_leczenie('gronkowiec złocisty','Długość leczenia zakażeń wywołanych przez gronkowca złocistego zależy od rodzaju i ciężkości infekcji oraz od odpowiedzi organizmu na terapię.
			Leczenie może trwać od kilku dni w przypadku łagodnych infekcji skórnych do kilku tygodni lub miesięcy w przypadku cięższych zakażeń układowych.').

choroba_leczenie('liszajec zakaźny','W leczeniu liszajca zakaźnego stosuje się antybiotyki nakładane miejscowo w postaci maści lub aerozoli, a w cięższych przypadkach,
			zwłaszcza u osób z rozległymi zmianami skórnymi, antybiotyki podaje się doustnie lub dożylnie. Leczenie liszajca zazwyczaj trwa kilka dni.
			W przypadku nieleczonego zakażenia skóry zmiany mogą utrzymywać się długo, nawet kilka tygodni.').

choroba_leczenie('figówka','Choroba jest trudna w leczeniu i ma charakter nawracający. Leczenie obejmuje podawanie antybiotyku na gronkowca, który wywołał figówkę,
			lub trwałe usuwanie owłosienia. W przypadku figówki gronkowcowej (długotrwałej i nawracającej) lekarz może zalecić miejscowe stosowanie maści
			zawierających środki bakteriobójcze, odkażające i sterydowe. Jej leczenie trwa długo, a zaawansowane zmiany mogą doprowadzić do powstania blizn
			i wypadania włosów w miejscu stanu zapalnego.').

choroba_leczenie('czyrak','Leczenie  zależy od rodzaju czyraka, jego wielkości i lokalizacji. Jeśli występuje pojedyncza zmiana, bez gorączki,
			można zastosować miejscowo maści z antybiotykiem lub antybiotyki doustnie. W przypadku nawracających czyraków,
			czyraków gromadnych lub lokalizacji czyraka na twarzy zalecane jest zastosowanie antybiotykoterapii doustnej.
			We wczesnej fazie rozwoju czyraka można zastosować okłady z maści ichtiolowej,
			która przyspiesza uformowanie się ropnego czopu i wydostanie się na zewnątrz wydzieliny ropnej.
			Należy pamiętać, aby samodzielnie nie wyciskać lub nie nakłuwać czyraków, gdyż może to doprowadzić do rozsiewu
			bakterii lub przedostania się ich do krwi i rozwoju uogólnionego zakażenia. zazwyczaj trwa to od 1 do 3 tygodni, zanim czyraki samoistnie pękną i znikną.
			Większość czyraków goi się w ciągu 10 dni.').

choroba_leczenie('ropnie','Podstawowym sposobem leczenia ropnia jest chirurgiczne nacięcie zmiany chorobowej w znieczuleniu miejscowym lub ogólnym.
			Zabieg ten stosuje się w celu usunięcia wydzieliny, a następnie wypłukania, odkażenia i zabezpieczenia powstałej jamy.
			Drugim rodzajem interwencji jest nacięcie zainfekowanego miejsca, a następnie założenie drenów, które umożliwią samoistne wypłynięcie ropy.
			W późniejszym etapie jamę należy przepłukać, a następnie zabezpieczyć. Wskazane jest także pobranie materiału do badania w celu określenia patogenu
			odpowiedzialnego za wywołanie stanu zapalnego i wykonanie antybiogramu. W ciężkich przypadkach oraz u osób z obniżoną odpornością konieczne
			jest zastosowanie antybiotyku jako uzupełnienie kuracji oraz w celu zapobieżenia rozprzestrzenienia się zakażenia. W większości przypadków, proces
			gojenia się trwa od kilku dni do kilku tygodni, a czasami może potrwać nawet kilka miesięcy.').

choroba_leczenie('niesztowice','leczenie choroby polega na zastosowaniu antybiotyków podawanych doustnie, a także stosowanych miejscowo.
			Najczęściej stosuje się w tym celu cefalosporyny lub penicyliny odporne na enzym takie jak penicylinaza.
			Dodatkowo w celu ograniczenia wykwitów skórnych, a także ich dalszego rozprzestrzeniania się,
			stosuje się okłady z wykorzystaniem środków o działaniu odkażającym, tj. chlorheksydyna czy też jodyna powidonowa.
			W niektórych przypadkach zmiany skórne mogą wymagać interwencji chirurgicznej. Proces gojenia trwa od 1 do 2 miesięcy.').

choroba_leczenie('róża','Niepowikłana róża może być leczona w warunkach domowych, tylko w ciężkich przypadkach wymagana jest hospitalizacja. Leczenie polega na doustnym
			lub dożylnym (w ciężkiej postaci zakażenia) stosowaniu antybiotyków przeciwpaciorkowcowych, najczęściej z grupy penicylin lub ich pochodne.
			Stosuje się też leki przeciwbólowe i przeciwgorączkowe, takie jak paracetamol lub NSLPZ. W celu łagodzenia objawów można stosować miejscowo okłady chłodzące
			czy uniesienie kończyny w celu zmniejszenia obrzęku, jeśli zmiany występują na kończynie. Powrót do zdrowia następuje zwykle w ciągu 1–2 tyg.,
			jeśli chory jest właściwie leczony i nie pojawią się powikłania. Jej przebieg może być poważny, ale rzadko jest śmiertelna.').

choroba_leczenie('piodermia','Sposób leczenia piodermii zależy od jej rodzaju, nasilenia objawów i obecności chorób współistniejących. W celu szybkiego wyleczenia piodermii
			dermatolog przepisuje leki przeciwbakteryjne, przeciwzapalne i steroidowe (hormonalne). W przypadku cukrzycy lub zaburzeń hormonalnych
			lekarz może skierować pacjenta na konsultację do endokrynologa. Do leczenia skóry stosuje się środki antyseptyczne. W przypadku piodermii nie należy
			wyciskać zmian skórnych, golić włosów w obszarze zapalenia ani moczyć dotkniętej chorobowo skóry. Dieta w przypadku piodermii powinna być zbilansowana,
			konieczne jest ograniczenie ilości węglowodanów i unikanie alkoholu. Średnio leczenie trwa kilka tygodni.').

choroba_leczenie('różyca','Postać skórna różycy ustępuje samoistnie w ciągu 2–4 tygodni. Antybiotykoterapia skraca czas utrzymywania się objawów.
			Włoskowiec różycy jest wrażliwy na większość powszechnie stosowanych antybiotyków. W postaci posocznicowej lub narządowej różycy,
			np. w zapaleniu wsierdzia, konieczna jesthospitalizacja, dożylna antybiotykoterapia i objawowe leczenie powikłań. Leczenie trwa zwykle długo,
			nawet w przypadkach leczonych może się utrzymywać kilka tygodni.').

choroba_leczenie('łupież rumieniowy','Leczenie łupieżu rumieniowego polega na stosowaniu miejscowo lub ogólnie antybiotyku – erytromycyny. Ponadto w terapii miejscowej
			znajdują zastosowanie leki przeciwgrzybicze. W celu zmniejszenia ryzyka nawrotu można je stosować również profilaktycznie,
			np. jeden raz w tygodniu. Pomocne w leczeniu jest stosowanie mydeł odkażających, przeciwbakteryjnych. Leczenie może potrwać nawet do
			dwóch tygodni.').

choroba_leczenie('promienica','Leczenie promienicy polega na stosowaniu antybiotyków, zwykle przez okres od 6 miesięcy do 1 roku. W niektórych przypadkach konieczne jest
			leczenie chirurgiczne: nacięcie i drenaż ropni czy usunięcie przetok.').

choroba_leczenie('borelioza','Borelioza jest spowodowana infekcją bakteryjną, we wczesnym stadium można ją wyleczyć antybiotykami. W przypadkach przewlekłych objawów skutki
			choroby mogą utrzymywać się dłużej po zakończeniu terapii antybiotykiem. Takie osoby wymagają leczenia wspomagającego lub nawet rehabilitacji​​​​​​​.
			W zależności od jej postaci leczenie może trwać różnie długo – od 7 do 28 dni.').

choroba_leczenie('gruźlica skóry','Leczenie obejmuje długotrwałą terapię antybiotykową, często trwającą 6-9 miesięcy, a w niektórych przypadkach także interwencje chirurgiczne.
			Wspomagające leczenie objawowe ma na celu złagodzenie świądu i poprawę komfortu życia pacjenta.').

choroba_leczenie('rzeżączka','Leczenie rzeżączki polega na stosowaniu antybiotyków. Rodzaj antybiotyku, dawkowanie i czas trwania kuracji jest ustalany przez lekarza.
			Jest on uzależniony od sytuacji m. in. lokalizacji zakażenia. Dwoinka rzeżączki ma dużą zdolność do nabywania oporności na leki,
			antybiotyki i chemioterapeutyki. Dlatego we wszystkich przypadkach rzeżączki po leczeniu wykonuje się też test/badanie potwierdzający wyleczenie.
			Zwykle terapia trwa ok. 2 tygodnie. Wiele jednak zależy od tego, jak organizm reaguje na antybiotyki. Pacjenci powinni powstrzymać się od kontaktów
			seksualnych zwykle przez 14 dni po zakończeniu przez nich i ich partnerów leczenia i ustąpieniu objawów.').

choroba_leczenie('kiła','W kile wczesnej I lub II okresu, a także kile wcześniej utajonej zwykle stosuje się antybiotyk – penicylinę benzatynową jednorazowo w zastrzyku w pośladek.
			U osób uczulonych stosuje się inne antybiotyki doustne – doksycyklinę przez 14 dni lub ceftriakson przez 10 dni. Kiła późna utajona, sercowo-naczyniowa
			lub kilakowa jest zwykle leczona zastrzykami z penicyliny benzatynowej co tydzień przez 3 tygodnie. Osoby uczulone na penicylinę są leczone doustnym
			antybiotykiem – doksycykliną przez 21–28 dni. Kiła ośrodkowego układu nerwowego, w tym kiła narządu wzroku i słuchu jest zwykle leczona dożylnym podawaniem
			antybiotyku – penicyliny benzylowej (krystalicznej) przez 10–14 dni. Kontrola po leczeniu kiły wczesnej zwykle odbywa się po miesiącu od zakończenia leczenia,
			następnie za 3, 6 i 12 miesięcy.').

% ======================================================================================
% lista zabiegów i ich opisy, zabieg/2
% ======================================================================================

zabieg('laseroterapia', 'Jest to stymulacja procesów leczniczych organizmu za pomocą promieniowania laserowego.').
zabieg('terapia fotodynamiczna', 'Wykorzystuje światło w połączeniu z fotouczulaczem do niszczenia komórek nowotworowych i leczenia przewlekłych stanów zapalnych skóry.(PDT)').
zabieg('mikrodermabrazja','Polega na mechanicznym złuszczaniu naskórka za pomocą kryształków diamentu, korundu bądź strumienia wody (hydrabrazja).').
zabieg('peeling chemiczny','zabieg kosmetologiczny przy wykorzystaniu preparatów powodujących intensywne złuszczanie naskórka. Użycie odpowiednio dobranych substancji chemicznych,
			takich jak np. kwas migdałowy, mlekowy, czy glikolowy stymuluje wewnętrzne warstwy skóry do naturalnej regeneracji i odnowy.').
%zabieg('krioterapia dermatologiczna','Technika ta wykorzystuje zimno w celu zniszczenia nieprawidłowych komórek lub tkanek na skórze. Do zabiegu używa się ciekłego azotu.
%			Jest on aplikowany bezpośrednio na tkankę objętą zmianami, co powoduje szybkie zamrożenie i następnie rozmrożenie tkanek, prowadząc do ich zniszczenia.').
zabieg('kriochirurgia', 'Leczymy poprzez bezpośredni kontakt sondy ze zmianą skórną lub metodą natryskową (z zastosowaniem specjalnych nakładek ograniczających strefę mrożenia).
			Gazem używanym do tego procesu jest podtlenek azotu (NO2). W wyniku zamarzania wnętrza komórek tkanki dochodzi obumierania zmiany poddanej leczeniu.').
zabieg('fototerapia', 'Fototerapia to metoda terapeutyczna opierająca się na prozdrowotnych właściwościach światła. Jest całkowicie bezinwazyjna, bezpieczna i komfortowa.
			Fototerapię stosuje się wspomagająco w leczeniu blizn, ponieważ uśmierza ból i przyspiesza procesy regeneracyjne, zapobiegając pojawieniu się stanów zapalnych.').
zabieg('biopsja', 'rodzaj zabiegu diagnostycznego polegającego na pobraniu materiału biologicznego z tkanek podejrzewanych o zmiany chorobowe.
			Materiał pobierany jest w formie wycinka lub drogą aspiracji (zasysanie).').

% ======================================================================================
% pytania ABCDE do testu na czerniaka, pytanie/2
% ======================================================================================

pytania(a, 'Czy znamię stało się asymetryczne?').
pytania(b, 'Czy znamię ma poszarpane lub zgrubiałe brzegi?').
pytania(c, 'Czy znamię ma czerwony, czarny lub niejednolity kolor?').
pytania(d, 'Czy znamię jest duże lub się powiększyło?').
pytania(e, 'Czy znamię ewoluuje, zmienia się z czasem?').

% ======================================================================================
% test na czerniaka czy jest podejrzenie wykorzystujący pytania/2, czy_czerniak
% ======================================================================================

czy_czerniak :-
    pytania(a, Pa), write(Pa), nl, read(A),
    pytania(b, Pb), write(Pb), nl, read(B),
    pytania(c, Pc), write(Pc), nl, read(C),
    pytania(d, Pd), write(Pd), nl, read(D),
    pytania(e, Pe), write(Pe), nl, read(E),
    (
        (A == tak ; A == true);
        (B == tak ; B == true);
        (C == tak ; C == true);
        (D == tak ; D == true);
        (E == tak ; E == true)
    ) ->
        write('Istnieje podejrzenie czerniaka. Skontaktuj się z dermatologiem.');
        write('Znamię nie wykazuje niepokojących cech według kryteriów ABCDE.').

% ======================================================================================
% wypisuje listę chorób wraz z ich opisami choroba/2, wypisz_choroby/0
% ======================================================================================

wypisz_choroby :-
    choroba(N, O),
    format('~w: ~w~n', [N, O]),
    fail.

% ======================================================================================
% wypisuje listę możliwych leczeń chorób wraz z ich opisami choroba_leczenie/2, wypisz_choroby_leczenie
% ======================================================================================

wypisz_choroby_leczenie :-
    choroba_leczenie(N, O),
    format('~w: ~w~n', [N, O]),
    fail.

% ======================================================================================
% wypisuje listę zabiegów wraz z ich opisami zabiegi/2, wypisz_zabiegi/0
% ======================================================================================

wypisz_zabiegi :-
    zabieg(N, O),
    format('~w: ~w~n', [N, O]),
    fail.







:- dynamic odp/2.

% ======================================================================================
% testy czy możesz wykonać dany zabieg, wymaga/2?
% ======================================================================================

wymaga(laseroterapia, [ciaza, nowotwor, okres_menstruacji_kobiet, przyjmowanie_lekow_fotouczulających,
                       padaczka, goraczka, infekcje_wirusowe_bakteryjne, stany_wyczerpania_organizmu,
                       krwotoki_przewodu_pokarmowego, stosowanie_leków_przeciwzakrzepowych_sterydów]).
wymaga(terapia_fotodynamiczna, [ciaza, nowotwor, okres_laktacji, epilepsja, mocna_opalenizna, uczulenie_na_swiatlo]).
wymaga(mikrodermabrazja, [infekcje_wirusowe_bakteryjne, infekcji_skornych]).
wymaga(peeling_chemiczny, [infekcji_skornych, alergia, ciaza, okres_laktacji, nowotwor]).
wymaga(kriochirurgia, [nowotwor, choruje_krioglobulinemia, choroba_Raynauda, krazenie_krwi]).
wymaga(fototerapia, [uczulenie_na_swiatlo, choroba_oczu]).
wymaga(biopsja, [krazenie_krwi, skaza_krwotoczna]).

% ======================================================================================
% pytania które wykorzystywane są w wymaga/2, pytanie/2
% ======================================================================================

pytanie(ciaza, 'Czy jesteś w ciązy? (tak/nie)').
pytanie(nowotwor, 'Czy posiadasz nowotwór? (tak/nie)').
pytanie(okres_menstruacji_kobiet, 'Czy jesteś w okresie menstruacji kobiet? (tak/nie)').
pytanie(przyjmowanie_lekow_fotouczulających, 'Czy przyjmujesz leki światłouczulające? (tak/nie)').
pytanie(padaczka, 'Czy posiadasz padaczke? (tak/nie)').
pytanie(goraczka, 'Czy posiadasz gorączkę? (tak/nie)').
pytanie(infekcje_wirusowe_bakteryjne, 'Czy posiadasz infekcje bakteryjne/wirusowe? (tak/nie)').
pytanie(stany_wyczerpania_organizmu, 'Czy twój stan/organizm jest wyczerpany? (tak/nie)').
pytanie(krwotoki_przewodu_pokarmowego, 'Czy twój przewód pokarmowy krwawi? (tak/nie)').
pytanie(stosowanie_leków_przeciwzakrzepowych_sterydów, 'Czy zażywasz tabletki przeciwzakrzepowe lub sterydy? (tak/nie)').
pytanie(okres_laktacji, 'Czy jesteś w okresie laktacji? (tak/nie)').
pytanie(epilepsja, 'Czy posiadasz epilepsje? (tak/nie)').
pytanie(mocna_opalenizna, 'Czy posiadasz mocną opaleniznę (tak/nie)').
pytanie(uczulenie_na_swiatlo, 'Czy masz uczulenie na światło? (tak/nie)').
pytanie(infekcji_skornych, 'Czy posiadasz infekcje skórne? (tak/nie)').
pytanie(alergia, 'Czy posiadasz alergie? (tak/nie)').
pytanie(choruje_krioglobulinemia, 'Czy posiadasz krioglobulinemia(chorobę związaną z obecnością pewnych białek we krwi wrażliwych na niskie temperatury)? (tak/nie)').
pytanie(choroba_Raynauda, 'Czy posiadasz chorobe Raynauda(zasinieniem i drętwieniem palców na skutek zimna)? (tak/nie)').
pytanie(krazenie_krwi, 'Czy masz problemy z krążeniem krwi? (tak/nie)').
pytanie(choroba_oczu, 'Czy masz chorobe oczu taką jak jaskra lub problemy z siatkówką i soczewką? (tak/nie)').
pytanie(skaza_krwotoczna, 'Czy masz skaze krwotoczną (skłonność do nieprawidłowego krwawienia występującego samoistnie lub w wyniku urazu)? (tak/nie)').


% ======================================================================================
% bierze wymaga/2 i bierze pytania/2 te które są w wymaga/2 i daje odpowiedź czy_mozesz_zabieg/1
% ======================================================================================

czy_mozesz_zabieg(NazwaZabiegu) :-
    wyczysc_odpowiedzi,
    ( wymaga(NazwaZabiegu, ListaWarunkow) ->
        zapytaj_i_zapisz(ListaWarunkow),
        ( wszystkie_odpowiedzi_nie(ListaWarunkow)
        -> format('Możesz wykonać zabieg: ~w.~n', [NazwaZabiegu])
        ;  format('Nie spełniasz warunków do zabiegu: ~w.~n', [NazwaZabiegu])
        )
    ; format('Nieznany zabieg: ~w.~n', [NazwaZabiegu])
    ).

% ======================================================================================
% wypisuje pytania/2 i zapisuje odpowiedzi zapytaj_i_zapisz/1
% ======================================================================================

zapytaj_i_zapisz([]).
zapytaj_i_zapisz([H|T]) :-
    pytanie(H, Pyt),
    write(Pyt), nl,
    read(Odp),
    assertz(odp(H, Odp)),
    zapytaj_i_zapisz(T).

% ======================================================================================
% sprawdza czy wszystkie odpowiedzi były na nie i zwraca wartość, wszystkie_odpowiedzi_nie/1
% ======================================================================================

wszystkie_odpowiedzi_nie([]).
wszystkie_odpowiedzi_nie([H|T]) :-
    odp(H, Odp),
    Odp == nie,
    wszystkie_odpowiedzi_nie(T).

% ======================================================================================
% funkcja do czyszczenia listy odpowiedzi, aby przypadkiem nie została jakaś stara, wyczysc_odpowiedzi/0
% ======================================================================================

wyczysc_odpowiedzi :- retractall(odp(_, _)).
